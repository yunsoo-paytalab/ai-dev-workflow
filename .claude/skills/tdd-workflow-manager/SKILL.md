---
name: tdd-workflow-manager
description: Test-Driven Development의 Red-Green-Refactor 사이클을 관리합니다. 테스트 우선 작성, 최소 구현, 리팩토링 단계를 체계적으로 안내하고 각 단계의 완료 여부를 검증합니다.
allowed-tools: Read, Write, Edit, Bash, Grep, Glob
---

# TDD 워크플로우 매니저

## 사용 지침

Test-Driven Development의 Red-Green-Refactor 사이클을 관리합니다.

**전제 조건:**

- skill:test-case-generator로 테스트 케이스 명세 생성 완료

## TDD 사이클

```
🔴 Red (실패 테스트) → 🟢 Green (최소 구현) → 🔵 Refactor (개선) → 반복
```

---

## 프로세스

### Phase 1: 🔴 Red - 실패하는 테스트

1. **테스트 선택**

   - 테스트 케이스 명세에서 우선순위 확인
   - 미구현 테스트 중 가장 높은 우선순위 선택

2. **테스트 작성**

   - AAA 패턴: Arrange, Act, Assert
   - 단일 책임: 하나의 테스트는 하나의 동작만 검증
   - 명확한 이름: `should_[동작]_when_[조건]`

3. **실패 확인**
   - 테스트 실행: `npm test -- [테스트 파일]`
   - ✅ 테스트 실패 확인 (예상된 실패)
   - ❌ 통과하면 안 됨 (잘못된 테스트)

---

### Phase 2: 🟢 Green - 최소 구현

1. **최소 구현 원칙**

   - 목표: 테스트 통과만
   - 하드코딩 허용 (리팩토링에서 개선)
   - 엣지 케이스 무시 (다음 테스트에서)
   - 성능 최적화 금지 (리팩토링에서)

2. **구현 작성**

   - 테스트를 통과시키는 최소 코드만 작성

3. **통과 확인**
   - 테스트 실행
   - ✅ 새 테스트 통과
   - ✅ 모든 기존 테스트도 통과
   - ❌ 회귀 발생 시 수정

---

### Phase 3: 🔵 Refactor - 리팩토링

1. **리팩토링 체크리스트**

   - [ ] 중복 코드 제거
   - [ ] 명확한 변수/함수명
   - [ ] 적절한 추상화
   - [ ] 단일 책임 원칙
   - [ ] 불필요한 연산 제거
   - [ ] 코드 포맷팅 일관성

2. **리팩토링 원칙**

   - 테스트는 변경 금지
   - 작은 단위로 진행
   - 각 단계마다 테스트 실행

3. **검증**
   - 테스트 실행
   - ✅ 모든 테스트 통과 유지
   - ✅ 기능 변경 없음
   - ✅ 코드 품질 개선 확인
