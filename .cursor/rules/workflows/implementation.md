# 비즈니스 로직 구현 워크플로우 프롬프트

## Canonical Step Registry (Phase 3 - Implementation)

- 4-1: 유틸리티 함수 구현
- 4-2: API 함수 구현
- 4-3: 컴포넌트 로직 구현
- 4-4: 통합 및 최종 검증

본 레지스트리의 정확한 제목 문자열을 `memory.md` 업데이트 시 그대로 사용합니다.

## 4-1. 유틸리티 함수 구현

### Context 관리 전략

- **Phase**: Phase 3 (통합 및 구현)
- **Context 제한**: 구현 단계 (이미 설계가 완료되어 context 부담 적음)
- **필수 참조**: @memory.md, 1단계 결과물, 3-1 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 기존 유틸리티 코드, 성능 벤치마크 기준 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
단위 테스트를 통과하는 유틸리티 함수를 구현해주세요:

[유틸리티 함수 테스트]
[인터페이스 정의]
[요구사항 명세서] - **필수 참조**

구현 요구사항:
1. 모든 단위 테스트 통과
2. TypeScript 타입 안전성 보장
3. 성능 최적화 고려
4. 에러 핸들링 포함
5. 코드 가독성과 유지보수성 고려
6. **요구사항 명세서의 비즈니스 규칙 준수**

구현 순서:
1. 데이터 변환 함수
2. 검증 함수
3. 포맷팅 함수
4. 정렬/필터링 함수
5. 에러 처리 함수

유틸리티 함수 구현 시 요구사항 명세서 검증:
- 비즈니스 로직이 요구사항 명세서와 일치하는지 확인
- 데이터 검증 규칙이 요구사항에 명시된 규칙과 일치하는지 확인
- 성능 요구사항이 구현에 반영되었는지 확인
```

### 체크리스트

- [ ] 모든 단위 테스트가 통과함
- [ ] TypeScript 타입 안전성이 보장됨
- [ ] 성능이 최적화됨
- [ ] 에러 핸들링이 포함됨
- [ ] 코드 가독성이 확보됨
- [ ] 유지보수성이 확보됨
- [ ] **비즈니스 로직이 요구사항 명세서와 일치함**
- [ ] **데이터 검증 규칙이 요구사항에 명시된 규칙과 일치함**
- [ ] **성능 요구사항이 구현에 반영됨**
- [ ] 데이터 변환 함수가 구현됨
- [ ] 검증 함수가 구현됨
- [ ] 포맷팅 함수가 구현됨
- [ ] 정렬/필터링 함수가 구현됨
- [ ] 에러 처리 함수가 구현됨

### 결과물

- 완전한 유틸리티 함수 구현
- 모든 단위 테스트 통과
- 성능 최적화 완료

## 4-2. API 함수 구현

### Context 관리 전략

- **Phase**: Phase 3 (통합 및 구현)
- **Context 제한**: 구현 단계 (이미 설계가 완료되어 context 부담 적음)
- **필수 참조**: @memory.md, 1단계 결과물, 3-1, 3-3 단계 결과물, 4-1 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: API 서버 설정, 기존 API 코드 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
API 테스트를 통과하는 API 함수를 구현해주세요:

[API 테스트]
[API 인터페이스 정의]
[요구사항 명세서]

구현 요구사항:
1. 모든 API 테스트 통과
2. 에러 처리 및 재시도 로직
3. 캐싱 및 최적화
4. 타입 안전성 보장
5. 로깅 및 모니터링
6. **요구사항 명세서의 API 규격 준수**

구현 순서:
1. CRUD API 함수
2. 비즈니스 로직 API 함수
3. 외부 서비스 연동 함수
4. 실시간 통신 함수

API 함수 구현 시 요구사항 명세서 검증:
- API 엔드포인트가 요구사항 명세서와 일치하는지 확인
- 데이터 스키마가 요구사항에 명시된 형식과 일치하는지 확인
- 에러 응답 코드가 요구사항에 정의된 규칙과 일치하는지 확인
```

### 체크리스트

- [ ] 모든 API 테스트가 통과함
- [ ] 에러 처리 및 재시도 로직이 구현됨
- [ ] 캐싱 및 최적화가 구현됨
- [ ] 타입 안전성이 보장됨
- [ ] 로깅 및 모니터링이 구현됨
- [ ] **API 엔드포인트가 요구사항 명세서와 일치함**
- [ ] **데이터 스키마가 요구사항에 명시된 형식과 일치함**
- [ ] **에러 응답 코드가 요구사항에 정의된 규칙과 일치함**
- [ ] CRUD API 함수가 구현됨
- [ ] 비즈니스 로직 API 함수가 구현됨
- [ ] 외부 서비스 연동 함수가 구현됨
- [ ] 실시간 통신 함수가 구현됨
- [ ] API 문서화가 완료됨

### 결과물

- 완전한 API 함수 구현
- 모든 API 테스트 통과
- 에러 처리 완료

## 4-3. 컴포넌트 로직 구현

### Context 관리 전략

- **Phase**: Phase 3 (통합 및 구현)
- **Context 제한**: 구현 단계 (이미 설계가 완료되어 context 부담 적음)
- **필수 참조**: @memory.md, 2단계 결과물, 3-2 단계 결과물, 4-1, 4-2 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 기존 컴포넌트 코드, 접근성 가이드라인 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
컴포넌트 테스트를 통과하는 컴포넌트를 구현해주세요:

[컴포넌트 테스트]
[컴포넌트 설계]
[인터페이스 정의]
[요구사항 명세서] - **필수 참조**

구현 요구사항:
1. 모든 컴포넌트 테스트 통과
2. 접근성 가이드라인 준수
3. 성능 최적화 (메모이제이션)
4. 에러 바운더리 구현
5. 사용자 경험 최적화
6. **요구사항 명세서의 UI/UX 요구사항 준수**
 7. **페이지 컴포넌트의 경우 로직을 props로 넘기지 말고 내부에서 구현**

구현 순서:
1. 기본 컴포넌트
2. 상태 관리 로직
3. 이벤트 핸들러
4. 부수 효과 (useEffect)
5. 최적화 및 접근성

컴포넌트 로직 구현 시 요구사항 명세서 검증:
- UI/UX 요구사항이 컴포넌트 구현에 반영되었는지 확인
- 사용자 인터랙션 요구사항이 이벤트 핸들러에 포함되었는지 확인
- 접근성 요구사항이 컴포넌트에 적용되었는지 확인
```

### 체크리스트

- [ ] 모든 컴포넌트 테스트가 통과함
- [ ] 접근성 가이드라인이 준수됨
- [ ] 성능 최적화(메모이제이션)가 구현됨
- [ ] 에러 바운더리가 구현됨
- [ ] 사용자 경험이 최적화됨
- [ ] **UI/UX 요구사항이 컴포넌트 구현에 반영됨**
- [ ] **사용자 인터랙션 요구사항이 이벤트 핸들러에 포함됨**
- [ ] **접근성 요구사항이 컴포넌트에 적용됨**
- [ ] (페이지 컴포넌트 한정) 로직을 props로 전달하지 않고 내부에서 구현됨
- [ ] 기본 컴포넌트가 구현됨
- [ ] 상태 관리 로직이 구현됨
- [ ] 이벤트 핸들러가 구현됨
- [ ] 부수 효과(useEffect)가 구현됨
- [ ] 최적화 및 접근성이 구현됨

### 결과물

- 완전한 컴포넌트 로직 구현
- 모든 컴포넌트 테스트 통과
- 성능 최적화 완료

## 4-4. 통합 및 최종 검증

### Context 관리 전략

- **Phase**: Phase 3 (통합 및 구현)
- **Context 제한**: 구현 단계 (이미 설계가 완료되어 context 부담 적음)
- **필수 참조**: @memory.md, 1, 2, 3단계 모든 결과물, 4-1, 4-2, 4-3 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 성능 벤치마크 기준, 보안 요구사항 문서, 코드 리뷰 체크리스트 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
전체 시스템을 통합하고 최종 검증을 수행해주세요:

[모든 구현 코드]
[통합 테스트]
[E2E 테스트]
[요구사항 명세서] - **필수 참조**

검증 항목:
1. 모든 테스트 통과
2. 타입 에러 없음
3. 성능 요구사항 충족
4. 접근성 요구사항 충족
5. 보안 요구사항 충족
6. 코드 리뷰 통과
7. **요구사항 명세서의 모든 요구사항 충족**

최적화:
1. 번들 크기 최적화
2. 런타임 성능 최적화
3. 메모리 사용량 최적화
4. 네트워크 요청 최적화

최종 검증 시 요구사항 명세서 검증:
- 모든 기능 요구사항이 구현되었는지 확인
- 모든 비기능 요구사항(성능, 보안, 접근성)이 충족되었는지 확인
- 사용자 시나리오가 요구사항에 명시된 대로 동작하는지 확인
```

### 체크리스트

- [ ] 모든 테스트가 통과함
- [ ] 타입 에러가 없음
- [ ] 성능 요구사항이 충족됨
- [ ] 접근성 요구사항이 충족됨
- [ ] 보안 요구사항이 충족됨
- [ ] 코드 리뷰가 통과됨
- [ ] **모든 기능 요구사항이 구현됨**
- [ ] **모든 비기능 요구사항(성능, 보안, 접근성)이 충족됨**
- [ ] **사용자 시나리오가 요구사항에 명시된 대로 동작함**
- [ ] 번들 크기가 최적화됨
- [ ] 런타임 성능이 최적화됨
- [ ] 메모리 사용량이 최적화됨
- [ ] 네트워크 요청이 최적화됨
- [ ] 프로덕션 준비가 완료됨
- [ ] 문서화가 완료됨

### 결과물

- `src/shared/utils/` 유틸리티 함수
- `src/api/[domain]/` API 함수
- `src/features/[domain]/` 컴포넌트 로직
- `src/integration/` 통합 검증
- 완전한 시스템 통합
- 모든 테스트 통과
- 프로덕션 준비 완료
