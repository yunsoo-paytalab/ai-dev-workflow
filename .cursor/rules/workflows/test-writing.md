# 테스트 케이스 작성 워크플로우 프롬프트

## Canonical Step Registry (Phase 2 - Test Writing)

- 3-1: 단위 테스트 작성
- 3-2: 컴포넌트 테스트 작성
- 3-3: 통합 테스트 작성
- 3-4: E2E 테스트 작성

본 레지스트리의 정확한 제목 문자열을 `memory.md` 업데이트 시 그대로 사용합니다.

## 3-1. 단위 테스트 작성

### Context 관리 전략

- **Phase**: Phase 2 (도메인별 상세 작업)
- **Context 제한**: 도메인별 작업 (context 길이 제한 내에서 작업)
- **필수 참조**: @memory.md, 1, 2단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 기존 테스트 코드, 테스트 유틸리티 설정, 성능 벤치마크 기준 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
인터페이스와 UI 설계를 바탕으로 단위 테스트를 작성해주세요:

[인터페이스 정의]
[UI 설계 결과]
[요구사항 명세서] - **필수 참조**

작성할 테스트:
1. 유틸리티 함수 테스트
2. 도메인 로직 테스트
3. API 함수 테스트
4. 검증 함수 테스트
5. 포맷팅 함수 테스트

각 테스트별로:
- Given-When-Then 패턴 사용
- 엣지 케이스 포함
- 에러 케이스 포함
- 성능 테스트 포함
- **요구사항 명세서의 비즈니스 규칙 반영**

테스트 작성 시 요구사항 명세서 검증:
- 비즈니스 규칙이 테스트 케이스에 반영되었는지 확인
- 기능 요구사항이 테스트 시나리오에 포함되었는지 확인
- 성능 요구사항이 성능 테스트에 반영되었는지 확인
```

### 체크리스트

- [ ] 유틸리티 함수 테스트가 작성됨
- [ ] 도메인 로직 테스트가 작성됨
- [ ] API 함수 테스트가 작성됨
- [ ] 검증 함수 테스트가 작성됨
- [ ] 포맷팅 함수 테스트가 작성됨
- [ ] Given-When-Then 패턴이 적용됨
- [ ] 엣지 케이스가 포함됨
- [ ] 에러 케이스가 포함됨
- [ ] 성능 테스트가 포함됨
- [ ] **요구사항 명세서의 비즈니스 규칙이 테스트에 반영됨**
- [ ] **기능 요구사항이 테스트 시나리오에 포함됨**
- [ ] **성능 요구사항이 성능 테스트에 반영됨**
- [ ] 테스트 커버리지 90% 이상

### 결과물

- `__tests__/unit/` 폴더의 단위 테스트
- 테스트 유틸리티 함수
- 모킹 전략 문서

## 3-2. 컴포넌트 테스트 작성

### Context 관리 전략

- **Phase**: Phase 2 (도메인별 상세 작업)
- **Context 제한**: 도메인별 작업 (context 길이 제한 내에서 작업)
- **필수 참조**: @memory.md, 2단계 결과물, 3-1 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 테스트 환경 설정, 접근성 테스트 도구 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
UI 컴포넌트를 바탕으로 컴포넌트 테스트를 작성해주세요:

[컴포넌트 설계]
[인터페이스 정의]
[요구사항 명세서] - **필수 참조**

작성할 테스트:
1. 렌더링 테스트
2. 사용자 인터랙션 테스트
3. 상태 변화 테스트
4. Props 변화 테스트
5. 접근성 테스트
6. 에러 상태 테스트

테스트 도구:
- React Testing Library
- Jest
- MSW (API 모킹)

컴포넌트 테스트 작성 시 요구사항 명세서 검증:
- UI/UX 요구사항이 사용자 인터랙션 테스트에 반영되었는지 확인
- 접근성 요구사항이 접근성 테스트에 포함되었는지 확인
- 에러 처리 요구사항이 에러 상태 테스트에 반영되었는지 확인
```

### 체크리스트

- [ ] 렌더링 테스트가 작성됨
- [ ] 사용자 인터랙션 테스트가 작성됨
- [ ] 상태 변화 테스트가 작성됨
- [ ] Props 변화 테스트가 작성됨
- [ ] 접근성 테스트가 작성됨
- [ ] 에러 상태 테스트가 작성됨
- [ ] **UI/UX 요구사항이 사용자 인터랙션 테스트에 반영됨**
- [ ] **접근성 요구사항이 접근성 테스트에 포함됨**
- [ ] **에러 처리 요구사항이 에러 상태 테스트에 반영됨**
- [ ] React Testing Library가 사용됨
- [ ] Jest가 설정됨
- [ ] MSW가 설정됨
- [ ] 모든 컴포넌트가 테스트됨

### 결과물

- `__tests__/components/` 폴더의 컴포넌트 테스트
- 테스트 헬퍼 함수
- 접근성 테스트 가이드

## 3-3. 통합 테스트 작성

### Context 관리 전략

- **Phase**: Phase 2 (도메인별 상세 작업)
- **Context 제한**: 도메인별 작업 (context 길이 제한 내에서 작업)
- **필수 참조**: @memory.md, 1, 2단계 결과물, 3-1, 3-2 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: 통합 테스트 환경 설정, 사용자 시나리오 문서 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
전체 시스템을 바탕으로 통합 테스트를 작성해주세요:

[모든 인터페이스 정의]
[컴포넌트 설계]
[단위 테스트]
[요구사항 명세서] - **필수 참조**

작성할 테스트:
1. API 연동 테스트
2. 상태 관리 테스트
3. 사용자 플로우 테스트
4. 에러 처리 테스트
5. 성능 테스트

테스트 시나리오:
- 정상 케이스
- 에러 케이스
- 엣지 케이스
- 사용자 시나리오

통합 테스트 작성 시 요구사항 명세서 검증:
- 전체 시스템 요구사항이 통합 테스트에 반영되었는지 확인
- 사용자 플로우 요구사항이 사용자 시나리오 테스트에 포함되었는지 확인
- 시스템 성능 요구사항이 성능 테스트에 반영되었는지 확인
```

### 체크리스트

- [ ] API 연동 테스트가 작성됨
- [ ] 상태 관리 테스트가 작성됨
- [ ] 사용자 플로우 테스트가 작성됨
- [ ] 에러 처리 테스트가 작성됨
- [ ] 성능 테스트가 작성됨
- [ ] **전체 시스템 요구사항이 통합 테스트에 반영됨**
- [ ] **사용자 플로우 요구사항이 사용자 시나리오 테스트에 포함됨**
- [ ] **시스템 성능 요구사항이 성능 테스트에 반영됨**
- [ ] 정상 케이스가 테스트됨
- [ ] 에러 케이스가 테스트됨
- [ ] 엣지 케이스가 테스트됨
- [ ] 사용자 시나리오가 테스트됨
- [ ] 통합 테스트 환경이 구축됨

### 결과물

- `__tests__/integration/` 폴더의 통합 테스트
- 테스트 시나리오 문서
- API 모킹 설정

## 3-4. E2E 테스트 작성

### Context 관리 전략

- **Phase**: Phase 2 (도메인별 상세 작업)
- **Context 제한**: 도메인별 작업 (context 길이 제한 내에서 작업)
- **필수 참조**: @memory.md, 1, 2, 3-1, 3-2, 3-3 단계 결과물, **요구사항 명세서** (memory.md에서 자동 참조)
- **선택적 참조**: E2E 테스트 환경 설정, 사용자 시나리오 문서, 브라우저 지원 목록, 성능 기준 (memory.md에서 자동 참조)

### AI에게 요청할 내용

```
사용자 시나리오를 바탕으로 E2E 테스트를 작성해주세요:

[사용자 플로우]
[전체 시스템]
[요구사항 명세서] - **필수 참조**

작성할 테스트:
1. 핵심 사용자 시나리오
2. 에러 복구 시나리오
3. 성능 시나리오
4. 접근성 시나리오
5. 크로스 브라우저 테스트

테스트 도구:
- Playwright
- Cypress

E2E 테스트 작성 시 요구사항 명세서 검증:
- 핵심 비즈니스 요구사항이 E2E 테스트에 반영되었는지 확인
- 사용자 경험 요구사항이 사용자 시나리오 테스트에 포함되었는지 확인
- 시스템 안정성 요구사항이 에러 복구 테스트에 반영되었는지 확인
```

### 체크리스트

- [ ] 핵심 사용자 시나리오가 테스트됨
- [ ] 에러 복구 시나리오가 테스트됨
- [ ] 성능 시나리오가 테스트됨
- [ ] 접근성 시나리오가 테스트됨
- [ ] **핵심 비즈니스 요구사항이 E2E 테스트에 반영됨**
- [ ] **사용자 경험 요구사항이 사용자 시나리오 테스트에 포함됨**
- [ ] **시스템 안정성 요구사항이 에러 복구 테스트에 반영됨**
- [ ] 크로스 브라우저 테스트가 작성됨
- [ ] Playwright/Cypress가 설정됨
- [ ] 테스트 데이터가 준비됨
- [ ] 테스트 환경이 구축됨
- [ ] CI/CD 파이프라인이 설정됨
- [ ] 테스트 자동화가 완료됨

### 결과물

- `__tests__/unit/[domain]/` 단위 테스트
- `__tests__/components/[domain]/` 컴포넌트 테스트
- `__tests__/integration/[domain]/` 통합 테스트
- `__tests__/e2e/[domain]/` E2E 테스트
- 테스트 환경 설정
- 성능 벤치마크 문서
