# Multi-Turn 작업 방식 프롬프트

## Phase 1: 전체 설계 (1~2 단계)

### Turn 1: 전체 도메인 정의

**목표**: 모든 도메인을 통합적으로 설계하여 일관성 확보

**Context 관리 전략**:

- **Phase**: Phase 1 (전체 설계)
- **Context 제한**: 전체 도메인 (context 길지만 설계 단계라 괜찮음)
- **필수 참조**: @memory.md, 요구사항 명세서
- **선택적 참조**: 기존 시스템 아키텍처 문서

**시작 시 작업**:

1. @memory.md 파일을 읽어서 현재 진행 상황 파악
2. memory.md의 파일 경로를 참조하여 요구사항 명세서 로드
3. memory.md의 파일 경로를 참조하여 기존 시스템 아키텍처 문서 확인
4. 작업 범위 및 우선순위 설정

**작업 중**:

1. 각 단계별로 체크리스트 확인
2. 이전 단계의 결과물을 참조하여 일관성 유지
3. 도메인 간 연동 부분은 공통 인터페이스 참조
4. 작업 완료 시 memory.md 업데이트

**완료 시**:

1. 현재 Turn에서 완료한 작업 정리
2. memory.md의 결과물 경로에 파일 저장
3. memory.md 파일 업데이트 (완료 체크, 다음 단계 안내)
4. 식별된 도메인 목록을 memory.md에 동적 추가
5. Phase 2, 3의 도메인별 작업 항목을 동적 생성
6. 다음 단계를 위한 가이드 제공

**참조 파일** (memory.md에서 자동 참조):

- 요구사항 명세서
- 기존 시스템 아키텍처 문서
- @memory.md

**결과물** (memory.md의 결과물 경로에 저장):

- 전체 도메인 모델 정의: `src/entities/[domain]/model/`
- 도메인 간 연동 설계: `src/entities/[domain]/integration/`
- 공통 인터페이스 정의: `src/shared/interfaces/`

### Turn 2: 전체 UI 설계

**목표**: 일관된 사용자 경험을 위한 통합 UI 설계

**시작 시 작업**:

1. @memory.md 파일을 읽어서 현재 진행 상황 파악
2. Turn 1 결과물 확인
3. 사용자에게 Figma 디자인 URL 요청
4. 공통 디자인 모듈 확인 (memory.md에서 자동 참조)

**작업 중**:

1. 각 단계별로 체크리스트 확인
2. Turn 1 결과물을 참조하여 일관성 유지
3. 디자인 시스템 일관성 유지
4. 작업 완료 시 memory.md 업데이트

**완료 시**:

1. 현재 Turn에서 완료한 작업 정리
2. 다음 Turn에서 필요한 정보 제공
3. memory.md 파일 업데이트
4. 다음 단계를 위한 가이드 제공

**참조 파일** (memory.md에서 자동 참조):

- Turn 1 결과물
- 공통 디자인 모듈
- @memory.md

**사람이 입력해야 하는 것**:

- Figma 디자인 URL (2-2 단계에서 요청)

**결과물**:

- 통합 UI 상태 설계
- 디자인 시스템 정의
- 사용자 플로우 설계

## Phase 2: 도메인별 완전한 개발 (1~4 단계)

### Turn 3~N: 도메인별 상세 작업 (1~3 단계)

**목표**: 각 도메인의 상세 설계 및 테스트 완료

**시작 시 작업**:

1. @memory.md 파일을 읽어서 현재 진행 상황 파악
2. Turn 1, 2 결과물 확인
3. 이전 도메인 작업 결과물 확인 (연동 참조)
4. 현재 도메인 관련 요구사항 로드
5. 기존 도메인 코드 확인 (있는 경우)

**작업 중**:

1. 각 단계별로 체크리스트 확인
2. 이전 Turn 결과물을 참조하여 일관성 유지
3. 도메인 간 연동 부분은 공통 인터페이스 참조
4. 작업 완료 시 memory.md 업데이트

**완료 시**:

1. 현재 Turn에서 완료한 작업 정리
2. 다음 Turn에서 필요한 정보 제공
3. memory.md 파일 업데이트
4. 다음 단계를 위한 가이드 제공

**참조 파일** (memory.md에서 자동 참조):

- 이전 Turn 결과물
- 현재 도메인 관련 요구사항
- 기존 도메인 코드 (있는 경우)
- @memory.md

**결과물**:

- 현재 도메인 완전한 설계
- 현재 도메인 테스트 케이스
- 현재 도메인 구현 가이드

### Turn N+1~M: 도메인별 구현 (4 단계)

**목표**: 각 도메인의 완전한 구현 및 검증

**시작 시 작업**:

1. @memory.md 파일을 읽어서 현재 진행 상황 파악
2. 해당 도메인의 상세 작업 결과물 확인
3. 이전 도메인 구현 결과물 확인 (연동 참조)
4. 현재 도메인 테스트 케이스 확인
5. 공통 유틸리티 정의 확인

**작업 중**:

1. 각 단계별로 체크리스트 확인
2. 테스트 케이스를 참조하여 구현
3. 도메인 간 연동 로직 구현
4. 성능 최적화 적용
5. 작업 완료 시 memory.md 업데이트

**완료 시**:

1. 현재 Turn에서 완료한 작업 정리
2. 다음 Turn에서 필요한 정보 제공
3. memory.md 파일 업데이트
4. 다음 단계를 위한 가이드 제공

**참조 파일** (memory.md에서 자동 참조):

- 해당 도메인 상세 작업 결과물
- 이전 도메인 구현 결과물
- 현재 도메인 테스트 케이스
- 공통 유틸리티 정의
- @memory.md

**결과물**:

- 현재 도메인 완전 구현
- 모든 테스트 통과
- 성능 최적화 완료

## Phase 3: 전체 시스템 통합 및 최종 검증

### Turn M+1: 통합 및 최종 검증

**목표**: 전체 시스템의 통합 및 최종 품질 검증

**시작 시 작업**:

1. @memory.md 파일을 읽어서 현재 진행 상황 파악
2. 모든 이전 Turn 결과물 확인
3. 통합 테스트 케이스 확인
4. 성능 벤치마크 확인

**작업 중**:

1. 각 단계별로 체크리스트 확인
2. 도메인 간 연동 로직 구현
3. 전체 통합 테스트 실행
4. 작업 완료 시 memory.md 업데이트

**완료 시**:

1. 현재 Turn에서 완료한 작업 정리
2. 프로덕션 배포 준비 완료
3. memory.md 파일 업데이트
4. 최종 검증 완료

**참조 파일** (memory.md에서 자동 참조):

- 모든 이전 Turn 결과물
- 통합 테스트 케이스
- 성능 벤치마크
- @memory.md

**결과물**:

- 완전한 시스템 통합
- 모든 테스트 통과
- 프로덕션 배포 준비 완료
