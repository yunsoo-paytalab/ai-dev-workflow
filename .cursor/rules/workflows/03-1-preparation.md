# 기능 구현 준비 (Phase 2-1)

> ⚠️ **이 파일을 읽기 전에 먼저 읽어야 할 파일**:
>
> 1. `@00-main-workflow.md` - 전체 프로세스 이해
> 2. `@00-memory.md` - 현재 진행 상황 확인
> 3. `@01-domain-definition.md` 및 `@02-common-ui.md` 완료 여부 확인

## 목표 및 범위

**Phase 2-1 목표**: 기능 구현 순서를 정하고, 구현할 기능을 선택합니다.

**단계**:

- Step 0: 기능 구현 순서 정리 (최초 1회만)
- Step 1: 기능 선택 및 승인 (각 기능마다)

---

## 사전 요구사항 확인

⚠️ **시작 전 필수 확인**:

1. `@00-memory.md` 읽기 - Phase 1 완료 여부
2. Phase 1 결과물 확인:
   - 도메인 목록
   - 페이지 구조
   - 기능 목록
   - 공통 컴포넌트

**Phase 1이 완료되지 않았다면 진행 금지**

---

## Step 0: 사전 준비 - 기능 구현 순서 정리

**실행 횟수**: 최초 1회만 (Phase 2 시작 시)

**목표**: 기능 간 의존성을 분석하여 최적의 구현 순서를 결정합니다.

### 작업 순서

**1) 기능 목록 확인**

Phase 1 Turn 1에서 도출된 기능 목록 로드

**2) 의존성 그래프 생성**

기능 간 의존 관계 분석:

- 직접 의존성: A 기능이 B 기능을 명시적으로 사용
- 데이터 의존성: A 기능의 결과가 B 기능의 입력
- UI 의존성: A 컴포넌트가 B 컴포넌트를 포함

예시:

- F001 (상품 목록) → F002 (장바구니 추가)
- F002 (장바구니 추가) → F005 (주문하기)
- F003 (로그인) → F004 (마이페이지)

**3) 위상 정렬 (Topological Sort)**

의존성 순서대로 정렬:

1. 의존성 없는 기능 먼저
2. 의존성 해결된 순서대로
3. 병렬 가능한 기능 그룹화

결과 예시:

- 그룹 1 (병렬 가능): F001, F003
- 그룹 2 (F001 완료 후): F002, F006
- 그룹 3 (F003 완료 후): F004
- 그룹 4 (F002 완료 후): F005

**4) 순환 의존성 탐지**

순환 의존성 발견 시:

- 경고 메시지 출력
- 리팩토링 제안 (공통 모듈 분리)

**5) 구현 순서 제안**

```typescript
interface ImplementationOrder {
  group: number;
  features: string[]; // ['F001', 'F003']
  canParallel: boolean;
  blockedBy: string[]; // 선행 기능 ID
  estimatedTime: string; // '2-3일'
}
```

### 개발자 검수 게이트

#### 🛑 사용자 검수 필수

"다음 순서로 기능을 구현하려고 합니다:"

**구현 순서**:

- 그룹 1 (병렬 가능): F001, F003
- 그룹 2 (F001 완료 후): F002, F006
- ...

#### ✅ 순서 검토

- [ ] 의존성이 올바르게 파악되었는가?
- [ ] 순서가 논리적인가?
- [ ] 병렬 처리 가능한 기능이 올바르게 그룹화되었는가?

#### 📝 변경 요청 가능

- 순서 조정
- 의존성 수정
- 기능 추가/제거

⚠️ **승인 전까지 기능 구현 시작 금지**

---

## Step 1: 기능 선택 및 승인

**실행 방식**: 각 기능마다 Step 1부터 시작합니다.

### 🔔 사용자 승인 필요

"다음 기능을 구현하려고 합니다:"

**기능 정보**:

- ID: F001
- 이름: 상품 목록 조회
- 도메인: Product
- 복잡도: moderate

**작업 범위**:

페이지:

- ProductListPage

예상 컴포넌트:

- ProductList (컨테이너)
- ProductCard (아이템)
- ProductFilter (필터)
- ProductSort (정렬)

예상 API:

- GET /products
- GET /categories

비즈니스 로직:

- 상품 필터링 (카테고리, 가격)
- 상품 정렬 (최신순, 가격순)
- 페이지네이션

의존성:

- 없음 (첫 번째 기능)

**이 기능을 구현할까요?**

- [ ] 승인 (진행)
- [ ] 보류 (다른 기능 먼저)
- [ ] 수정 필요 (범위 조정)

⚠️ **승인 전까지 다음 단계 진행 금지**

---

## Memory 업데이트

**Step 0 완료 시**:

- `@00-memory.md`의 "기능 구현 순서" 섹션 업데이트
- Phase 2 Step 0 체크 완료

**Step 1 완료 시**:

- `@00-memory.md`의 "현재 작업 상태" 업데이트
  - 작업 중인 기능 ID/이름 기록
  - 현재 워크플로우: `03-2-ui-design`
  - 현재 Step: Step 2 (UI 설계)
  - 진행률: 20%

---

## 다음 단계

**Step 1 승인 후**:

→ `@03-2-ui-design.md` (Phase 2-2 - UI 설계)

**필요한 작업**:

- Step 2: UI 설계
